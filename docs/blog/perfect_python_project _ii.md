---
tags:
  - Projects
  - Python projects
  - Bash
  - GitHub Actions
---

# Setting Up a Perfect Python Project (Part II) <small>2023-05-13</small>


## Files

Below you see a list of basic files we need in the root folder. I'll brefly explain each one of them and give you examples or links where you create them by yourself.

- ~~Makefile~~
- README.md
- LICENSE
- pyproject.toml
- mkdocs.yml

### README

`README.md` is a description of your project. It could be a small documentation that contains links and other important information like requirements, licenses, contribution guidelines, etc.

You can read more [About READMEs](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-readmes) in GitHub.


### LICENSE

`LICENSE` is a must in open source projects. Here you can [choose a license](https://choosealicense.com/).


### pyproject.toml

You may remember that this was the config file that was missing when we tried bootstrap the installation.

Let's create then

```shell hl_lines="2"
$ . .venv/bin/activate
(.venv) $ python -m flit init
Module name [perf_py_project]:
Author: <put your name here>
Author email: <same with your email>
Home page: https://<your GitHub name>.github.io/perf_py_project/
Choose a license (see http://choosealicense.com/ for more info)
1. MIT - simple and permissive
2. Apache - explicitly grants patent rights
3. GPL - ensures that code based on this is shared with the same terms
4. Skip - choose a license later
Enter 1-4 [4]: 4

Written pyproject.toml; edit that file to add optional extra info.
```

The highlight above shows that I chose [`flit`](https://flit.pypa.io/en/latest/) to create distribution packages for the project. There is a list of other tools, some of them with a bunch of other features. I like `flit` as good compromise between simplicity and getting things done, but you can choose other tools, Python Tutorial on [Packaging Python Projects](https://packaging.python.org/en/latest/tutorials/packaging-projects/#creating-pyproject-toml) has a non-exhaustive list. Be aware that I called flit in the scripts as well, so if you pick up another tool, make sure you change the scripts as well. 

Let's take a look on the new file itself.

```shell
$ cat pyproject.toml 
[build-system]
requires = ["flit_core >=3.2,<4"]
build-backend = "flit_core.buildapi"

[project]
name = "perf_py_project"
authors = [{name = "Your Name", email = "Your e-mail"}]
dynamic = ["version", "description"]

[project.urls]
Home = "https://<your GitHub name>.github.io/perf_py_project/"

```

The `pyproject.toml` that was automatically generated by `flit` is very basic and you need to add a lot more information. I'll keep it as simple as possible but you can see a better presentation of the sections [here](https://flit.pypa.io/en/latest/pyproject_toml.html#build-system-section).

You should be very careful with `required-python`, `dependencies` and `[project.optional-dependencies]`. The example below does not have `dependencies`, as it depends on the project you are developing, nor does it have `required-python`. However, you see the main optional dependencies that I normally start any Python project with and also some configuration. Versions are dated, so you may need to update them.

Whenever you need a new dependency in your project, you need to update this file and initialize the project again. This is why the script is so useful, as long as you keep your `pyproject.toml` up to date, you can configure and install the project with a `make bootstrap` command.

??? example
    ```toml title="pyproject.toml" linenums="1"
    [build-system]
    requires = ["flit_core >=3.2,<4"]
    build-backend = "flit_core.buildapi"

    [project]
    name = "perf_py_project"
    authors = [{name = "Your Name", email = "Your e-mail"}]
    readme = "README.md"
    requires-python = ""
    dynamic = ["version", "description"]
    dependencies = [
 
    ]

    [project.urls]
    Home = "https://<your GitHub name>.github.io/perf_py_project/"
    Source = "https://github.com/<your GitHub name>/perf_py_project"

    [project.scripts]

    [project.optional-dependencies]
    test = [
        "pytest >=7.2.1, <7.3",
        "pytest-cov >=4.0.0, <4.1",
    ]

    docs = [
    	"mkdocs-material >=9.1.3, <9.2",
        "mkdocstrings[python] >=0.20, <0.21",
    ]

    dev = [
    	"black >=23.1, <23.2",
    	"flake8 >=6.0, <6.1",
    	"isort >=5.12, <5.13",
        "pydocstyle[toml] >=6.3.0, <6.4",
    ]

    [tool.black]
    line-length = 79
    target-version = ["py311"]
    skip-string-normalization = true

    [tool.isort]
    profile = "black"

    [tool.pydocstyle]
    ```

### mkdocs.yml

